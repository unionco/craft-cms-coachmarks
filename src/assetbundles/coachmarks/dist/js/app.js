(function(t){function e(e){for(var o,i,s=e[0],c=e[1],p=e[2],l=0,d=[];l<s.length;l++)i=s[l],n[i]&&d.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,p||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],o=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var o={},n={app:0},a=[];function i(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1807:function(t,e,r){},"18b8":function(t,e,r){},"297e":function(t,e,r){},"4af6":function(t,e,r){},"4c2f":function(t,e,r){},"53e4":function(t,e,r){},"557b":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var o,n,a,i,s,c,p,u,l,d,b,h=r("43f9"),y=r.n(h),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"md-theme-default"},[r("div",{staticClass:"Coachmarks"},[r("Toggle"),r("div",{staticClass:"Coachmarks-main"},[t.$store.content.loaded?r("div",{staticClass:"page"},[t.$store.ui.open?r(t.$store.ui.pageType,{tag:"component",class:{isOpen:t.$store.ui.open,"md-elevation-6":!0}}):t._e()],1):r("div",[r("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}})],1)])],1),t.$store.ui.stepActive?r("StepBox",{attrs:{position:t.$store.ui.stepBoxPosition,"tooltip-position":t.$store.content.step.tooltipPosition,label:t.$store.content.step.label}}):t._e(),r("DebugCard")],1)},f=[],O=r("d225"),v=r("b0b4"),g=r("308d"),k=r("6bb5"),j=r("4e2b"),S=r("60a3"),_=r("3172"),w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Toggle"},[r("md-button",{staticClass:"md-fab",on:{click:t.$store.ui.toggleOpen}},[t.$store.ui.open?r("md-icon",[t._v("close")]):r("md-icon",[t._v("add_comment")])],1)],1)},C=[],P=Object(_["a"])(o=Object(S["a"])(o=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]))||o)||o,x=P,$=(r("9328"),r("2877")),D=Object($["a"])(x,w,C,!1,null,"cc79a9fc",null),U=D.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MainMenu"},[r("md-card",{staticClass:"md-primary"},[r("md-card-header",[r("md-card-header-text",[r("div",{staticClass:"md-title"},[t._v("Welcome to Coachmarks")])])],1)],1),r("md-card-content",[r("div",{staticClass:"content"},[t.$store.content.userCanCreateCoachmark?r("div",[r("md-button",{staticClass:"md-raised md-primary",on:{click:t.$store.ui.createNewCoachmark}},[t._v("Create a new coachmark")]),r("md-divider")],1):t._e(),r("div",{staticClass:"md-title"},[t._v("Your coachmarks")]),r("CoachmarkList",{attrs:{coachmarks:t.$store.content.coachmarks}})],1)])],1)},T=[],N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$props.coachmarks.length?r("md-list",t._l(t.$props.coachmarks,function(e){return r("md-list-item",{key:e.id},[t._v("\n    "+t._s(e.title)+"\n    "),r("div",[r("md-button",{staticClass:"md-icon-button",attrs:{disabled:!t.$store.content.userCanEditCoachmark(e.id)},on:{click:function(){return t.$store.ui.editCoachmark(e.id)}}},[r("md-icon",[t._v("edit")])],1),r("md-button",{staticClass:"md-icon-button",attrs:{disabled:!t.$store.content.getCoachmarkSteps(e.id).length},on:{click:function(){return t.$store.ui.startCoachmark(e.id)}}},[r("md-icon",[t._v("play_arrow")])],1)],1)])}),1):r("md-empty-state",{staticClass:"md-primary",attrs:{"md-size":120,"md-icon":"menu","md-label":"No Coachmarks Yet","md-description":"Create a new Coachmark to get started"}})},E=[],M=(n=Object(S["a"])({props:{coachmarks:Array}}),n(a=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]))||a),R=M,A=Object($["a"])(R,N,E,!1,null,null,null),L=A.exports,W=(i=Object(S["a"])({name:"main-menu",components:{CoachmarkList:L}}),Object(_["a"])(s=i(s=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"handleOpenChanged",value:function(t){this.$store.ui.setOpen(t.open)}}]),e}(S["b"]))||s)||s),z=W,B=(r("692f"),Object($["a"])(z,I,T,!1,null,"9021c0aa",null)),q=B.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseDetail",{scopedSlots:t._u([{key:"toolbar",fn:function(){return[t.coachmark?r("div",[r("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[r("md-button",{staticClass:"md-icon-button",on:{click:t.$store.ui.goToMainMenu}},[r("md-icon",[t._v("arrow_back")])],1),r("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.coachmark.title))]),t.$store.coachmarkEditable?r("md-button",{staticClass:"md-primary md-icon-button",on:{click:function(){return t.$store.ui.editCoachmark(t.coachmark.id)}}},[r("md-icon",[t._v("edit")])],1):t._e()],1)],1):r("div",[r("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[r("md-button",{on:{click:t.$store.ui.goToMainMenu}},[r("md-icon",[t._v("arrow_back")])],1)],1)],1)]},proxy:!0},{key:"content",fn:function(){return[r("div",[t.coachmark?r("div",{staticClass:"steps"},[void 0!==t.coachmark.steps&&t.coachmark.steps.length?r("md-steppers",{attrs:{"md-active-step":t.$store.ui.stepId.toString(),"md-vertical":""}},t._l(t.coachmark.steps,function(e){return r("md-step",{key:e.id,attrs:{id:e.id.toString(),"md-label":e.label,"md-editable":!1},on:{click:function(){return t.stepId=e.id}}})}),1):r("md-empty-state",{attrs:{"md-icon":"list","md-label":"Create your first step","md-description":"Steps guide your client through the CMS"}})],1):r("div",[t._v("\n        DEBUG:\n        "),r("br"),t._v("coachmark is not defined.\n        "),r("br"),t._v("\n        ID: "+t._s(t.$store.ui.coachmarkId)+"\n        "),r("br"),t._v("Coachmarks:\n        "),r("br"),r("ul",t._l(t.$store.content.coachmarks,function(e){return r("li",{key:e.id},[t._v(t._s(e.id))])}),0)])])]},proxy:!0}])})},F=[],H=r("d360"),J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Detail",attrs:{"md-elevation":"6"}},[r("md-card",[r("div",{staticClass:"toolbar"},[t._t("toolbar")],2),r("md-card-content",[r("div",{staticClass:"content"},[t._t("content")],2)]),r("md-card-actions",[t._t("actions")],2),r("div",{staticClass:"activity"},[t._t("activity")],2)],1),t._t("snackbar")],2)},Y=[],G=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]),X=G,K=(r("cb25"),Object($["a"])(X,J,Y,!1,null,"c359514a",null)),Q=K.exports,Z=r("daf9"),tt=(c=Object(S["a"])({components:{BaseDetail:Q}}),p=Object(S["c"])("id"),u=Object(S["c"])("stepId"),Object(_["a"])(l=c((b=function(t){function e(){var t,r;Object(O["a"])(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=Object(g["a"])(this,(t=Object(k["a"])(e)).call.apply(t,[this].concat(n))),r.id=0,r.coachmark={},r.stepId=0,r.stepDetails={},r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"mounted",value:function(){this.id=this.$store.ui.coachmarkId,this.stepId=this.$store.step.id,this.stepDetails=this.$store.step,console.log(Object(Z["g"])(this.stepDetails))}},{key:"onIdChange",value:function(t,e){this.coachmark=this.$store.coachmark}},{key:"onStepActiveChange",value:function(t){this.$store.ui.setStepId(t),this.stepDetails=this.$store.step,console.log(this.stepDetails)}},{key:"toggleStepActive",value:function(t){this.$store.ui.toggleStepActive()}}]),e}(S["b"]),d=b,Object(H["a"])(d.prototype,"onIdChange",[p],Object.getOwnPropertyDescriptor(d.prototype,"onIdChange"),d.prototype),Object(H["a"])(d.prototype,"onStepActiveChange",[u],Object.getOwnPropertyDescriptor(d.prototype,"onStepActiveChange"),d.prototype),l=d))||l)||l),et=tt,rt=(r("da67"),Object($["a"])(et,V,F,!1,null,"21a57fa2",null)),ot=rt.exports,nt=(r("ac6a"),r("6762"),r("2fdb"),r("7514"),r("96cf"),r("3b8d")),at=r("5e15"),it=r("013f"),st=(r("77a7"),r("bc3a")),ct=r.n(st),pt=ct.a.create({headers:{"X-CSRF-Token":window.Craft.csrfTokenValue}}),ut=pt;function lt(){return dt.apply(this,arguments)}function dt(){return dt=Object(nt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ut.get(window.Craft.getActionUrl("coachmarks/coachmarks")).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t)})),dt.apply(this,arguments)}function bt(t){return ht.apply(this,arguments)}function ht(){return ht=Object(nt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ut.post(window.Craft.getActionUrl("coachmarks/coachmarks/edit"),{coachmark:e}).then(function(t){return t.data}).catch(function(t){console.log(t)}));case 1:case"end":return t.stop()}},t)})),ht.apply(this,arguments)}function yt(){return mt.apply(this,arguments)}function mt(){return mt=Object(nt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ct.a.get(window.Craft.getActionUrl("coachmarks/users/users")).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t)})),mt.apply(this,arguments)}function ft(){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(nt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ct.a.get(window.Craft.getActionUrl("coachmarks/users/current")).then(function(t){return t.data}));case 1:case"end":return t.stop()}},t)})),Ot.apply(this,arguments)}r("456d");var vt,gt,kt,jt,St,_t,wt,Ct,Pt,xt,$t,Dt,Ut,It,Tt,Nt,Et,Mt,Rt,At,Lt,Wt,zt,Bt,qt,Vt,Ft,Ht,Jt,Yt,Gt,Xt,Kt,Qt,Zt,te,ee,re,oe,ne,ae,ie,se,ce,pe,ue,le,de,be,he,ye,me,fe,Oe,ve,ge,ke,je,Se,_e,we,Ce,Pe,xe,$e,De,Ue,Ie,Te,Ne,Ee,Me,Re,Ae,Le,We,ze,Be,qe,Ve,Fe,He,Je,Ye,Ge,Xe,Ke,Qe,Ze,tr,er,rr,or,nr,ar,ir,sr,cr,pr,ur,lr,dr,br,hr,yr,mr,fr,Or,vr,gr,kr=(vt=Z["b"].bound,gt=Z["b"].bound,kt=Z["b"].bound,jt=Z["b"].bound,St=function(){function t(){Object(O["a"])(this,t)}return Object(v["a"])(t,[{key:"cookieName",value:function(){return""}},{key:"skipProperties",value:function(){return[]}},{key:"serialize",value:function(){for(var t={},e=0,r=Object.keys(this);e<r.length;e++){var o=r[e];0!==o.indexOf("_")||void 0===this[o]||this.skipProperties().includes(o)||(t[o]=this[o])}return JSON.stringify(t)}},{key:"deserialize",value:function(t){try{if(!t)return void this.reset();for(var e=JSON.parse(t),r=0,o=Object.keys(e);r<o.length;r++){var n=o[r];void 0===e[n]||this.skipProperties().includes(n)||this.set(n,e[n],!1)}}catch(a){console.error(a),console.log(t),console.error("reseting"),this.reset()}}},{key:"writeState",value:function(){console.log("writeState",this.cookieName()),localStorage.setItem(this.cookieName(),this.serialize())}},{key:"restore",value:function(){var t=localStorage.getItem(this.cookieName());this.deserialize(t)}},{key:"reset",value:function(){}},{key:"set",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this[t]=e,r&&this.writeState()}}]),t}(),Object(H["a"])(St.prototype,"deserialize",[vt],Object.getOwnPropertyDescriptor(St.prototype,"deserialize"),St.prototype),Object(H["a"])(St.prototype,"restore",[gt],Object.getOwnPropertyDescriptor(St.prototype,"restore"),St.prototype),Object(H["a"])(St.prototype,"reset",[kt],Object.getOwnPropertyDescriptor(St.prototype,"reset"),St.prototype),Object(H["a"])(St.prototype,"set",[jt],Object.getOwnPropertyDescriptor(St.prototype,"set"),St.prototype),St),jr=(_t=Z["b"].bound,wt=Z["b"].bound,Ct=Z["b"].bound,Pt=Z["b"].bound,xt=Z["b"].bound,Mt=Et=function(t){function e(t){var r;return Object(O["a"])(this,e),r=Object(g["a"])(this,Object(k["a"])(e).call(this)),r.rootStore=void 0,Object(at["a"])(r,"_coachmarks",Dt,Object(it["a"])(r)),Object(at["a"])(r,"_users",Ut,Object(it["a"])(r)),Object(at["a"])(r,"_coachmarksState",It,Object(it["a"])(r)),Object(at["a"])(r,"_usersState",Tt,Object(it["a"])(r)),Object(at["a"])(r,"_currentUser",Nt,Object(it["a"])(r)),r.rootStore=t,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"cookieName",value:function(){return"cm-content"}},{key:"skipProperties",value:function(){return["_coachmarks","_coachmarksState","_coachmarkSaveState"]}},{key:"reset",value:function(){this._coachmarks=[],this._users=[],this._coachmarkSaveState=e.StateUninit,this._coachmarkState=e.StateUninit,this._usersState=e.StateUninit}},{key:"setCoachmarks",value:function(t){this._coachmarks=t,this.writeState()}},{key:"setCoachmarksState",value:function(t){this._coachmarksState=t,this.writeState()}},{key:"fetchCoachmarks",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(){var r,o,n=this,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]&&a[0],console.log("ContentStore.fetchCoachmarks()"),this._coachmarks=[],r||(this._coachmarksState=e.StateLoading),t.prev=4,t.next=7,lt();case 7:o=t.sent,Object(Z["f"])(function(){r||(n._coachmarksState=e.StateComplete),n.set("_coachmarks",o,!1),console.log(Object(Z["g"])(o))}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),Object(Z["f"])(function(){r||(n._coachmarksState=e.StateError)});case 14:case"end":return t.stop()}},t,this,[[4,11]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"setUsers",value:function(t){this._users=t,this.writeState()}},{key:"fetchUsers",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(){var r,o,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ContentStore.fetchUsers"),this._users=[],this._currentUser=void 0,this._usersState=e.StateLoading,t.prev=4,t.next=7,yt();case 7:return r=t.sent,t.next=10,ft();case 10:o=t.sent,Object(Z["f"])(function(){n._usersState=e.StateComplete,n.set("_users",r.users,!1)}),Object(Z["f"])(function(){n.set("_currentUser",parseInt(o.user),!1)}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](4),Object(Z["f"])(function(){n._usersState=e.StateError});case 18:case"end":return t.stop()}},t,this,[[4,15]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"getUser",value:function(t){return this.usersState!==e.StateComplete?null:this.users.find(function(e){return e.id===t})}},{key:"getCoachmark",value:function(t){var e=this._coachmarks.filter(function(e){return e.id===t});return e.length?e[0]:e}},{key:"getCoachmarkSteps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(!t||t instanceof Event)&&(t=this.rootStore.ui.coachmarkId);var e=this.getCoachmark(t);return e?(console.log(Object(Z["g"])(e)),e.steps):[]}},{key:"getStep",value:function(t){var e=this.steps.filter(function(e){return e.id===t});return e.length?e[0]:null}},{key:"userCanEditCoachmark",value:function(t){var e=this.getCoachmark(t);return!!e&&e.readWriteUsers.includes(this._currentUser)}},{key:"coachmarks",get:function(){return this._coachmarks}},{key:"coachmarksState",get:function(){return this._coachmarksState}},{key:"steps",get:function(){var t=[];return this.coachmarks.forEach(function(e){void 0!==e.steps&&e.steps.forEach(function(e){t.push(e)})}),t}},{key:"loaded",get:function(){return this.coachmarksState===e.StateComplete&&this.usersState===e.StateComplete}},{key:"usersState",get:function(){return this._usersState}},{key:"users",get:function(){return this._users}},{key:"currentUser",get:function(){return this._currentUser}},{key:"coachmark",get:function(){var t=this.rootStore.ui.coachmarkId,e=this.coachmarks.filter(function(e){return e.id===t});return!!e.length&&e[0]}},{key:"step",get:function(){var t=this.rootStore.ui.stepId,e=this.coachmark;if(e){var r=e.steps.filter(function(e){return e.id===t});if(r.length)return r[0]}return!1}},{key:"userCanCreateCoachmark",get:function(){var t=this.getUser(this.currentUser);if(t)return t.createCoachmarks;console.warn("Current user is null")}}]),e}(kr),Et.CookieName="cm-content",Et.NewCoachmarkId=-1,Et.StateLoading="loading",Et.StateUninit="uninit",Et.StateError="error",Et.StateComplete="complete",$t=Mt,Dt=Object(H["a"])($t.prototype,"_coachmarks",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ut=Object(H["a"])($t.prototype,"_users",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=Object(H["a"])($t.prototype,"_coachmarksState",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jr.StateUninit}}),Tt=Object(H["a"])($t.prototype,"_usersState",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jr.StateUninit}}),Nt=Object(H["a"])($t.prototype,"_currentUser",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),Object(H["a"])($t.prototype,"reset",[_t],Object.getOwnPropertyDescriptor($t.prototype,"reset"),$t.prototype),Object(H["a"])($t.prototype,"setCoachmarks",[wt],Object.getOwnPropertyDescriptor($t.prototype,"setCoachmarks"),$t.prototype),Object(H["a"])($t.prototype,"coachmarks",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"coachmarks"),$t.prototype),Object(H["a"])($t.prototype,"setCoachmarksState",[Ct],Object.getOwnPropertyDescriptor($t.prototype,"setCoachmarksState"),$t.prototype),Object(H["a"])($t.prototype,"coachmarksState",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"coachmarksState"),$t.prototype),Object(H["a"])($t.prototype,"fetchCoachmarks",[Z["b"]],Object.getOwnPropertyDescriptor($t.prototype,"fetchCoachmarks"),$t.prototype),Object(H["a"])($t.prototype,"steps",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"steps"),$t.prototype),Object(H["a"])($t.prototype,"loaded",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"loaded"),$t.prototype),Object(H["a"])($t.prototype,"usersState",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"usersState"),$t.prototype),Object(H["a"])($t.prototype,"setUsers",[Pt],Object.getOwnPropertyDescriptor($t.prototype,"setUsers"),$t.prototype),Object(H["a"])($t.prototype,"users",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"users"),$t.prototype),Object(H["a"])($t.prototype,"currentUser",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"currentUser"),$t.prototype),Object(H["a"])($t.prototype,"fetchUsers",[xt],Object.getOwnPropertyDescriptor($t.prototype,"fetchUsers"),$t.prototype),Object(H["a"])($t.prototype,"coachmark",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"coachmark"),$t.prototype),Object(H["a"])($t.prototype,"step",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"step"),$t.prototype),Object(H["a"])($t.prototype,"userCanCreateCoachmark",[Z["c"]],Object.getOwnPropertyDescriptor($t.prototype,"userCanCreateCoachmark"),$t.prototype),$t),Sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseDetail",{scopedSlots:t._u([{key:"toolbar",fn:function(){return[r("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[r("md-button",{staticClass:"md-icon-button",on:{click:t.$store.ui.goToMainMenu}},[r("md-icon",[t._v("arrow_back")])],1),r("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.$store.isNewCoachmark?"New Coachmark":"Edit Coachmark"))]),r("md-button",{staticClass:"md-icon-button",on:{click:t.$store.currentCoachmark.reset}},[r("md-icon",[t._v("cancel")])],1)],1)]},proxy:!0},{key:"content",fn:function(){return[r("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate(e)}}},[r("div",{staticClass:"md-gutter md-layout"},[r("Field",{class:t.getValidationClass("title"),attrs:{label:"Coachmark Title"}},[r("md-input",{attrs:{disabled:t.loading},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t.$v.form.title.required?t._e():r("span",{staticClass:"md-error"},[t._v("Title is required")]),t.$v.form.title.minLength?t._e():r("span",{staticClass:"md-error"},[t._v("Title min length is 5")])],1),r("Field",{attrs:{label:"Read-Only Users"}},[r("md-select",{attrs:{multiple:""},model:{value:t.form.readOnlyUsers,callback:function(e){t.$set(t.form,"readOnlyUsers",e)},expression:"form.readOnlyUsers"}},t._l(t.availableReadonlyUsers,function(e){return r("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.username))])}),1)],1),r("Field",{attrs:{label:"Read/Write Users"}},[r("md-select",{attrs:{multiple:""},model:{value:t.form.readWriteUsers,callback:function(e){t.$set(t.form,"readWriteUsers",e)},expression:"form.readWriteUsers"}},t._l(t.availableReadWriteUsers,function(e){return r("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.username))])}),1)],1),r("Field",[r("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit",disabled:t.loading}},[t._v("Save")])],1)],1)])]},proxy:!0},{key:"actions",fn:function(){return[t.$store.currentCoachmark.id>0?r("md-button",{staticClass:"md-secondary md-raised",on:{click:t.$store.ui.editSteps}},[t._v("Edit Steps")]):t._e()]},proxy:!0},{key:"snackbar",fn:function(){return[r("md-snackbar",{attrs:{"md-active":t.success},on:{"update:mdActive":function(e){t.success=e},"update:md-active":function(e){t.success=e}}},[t._v("Coachmark saved")])]},proxy:!0}])})},_r=[],wr=(r("6b54"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"md-layout-item md-small-size-100"+t.$props.class},[r("md-field",[t.$props.label?r("label",{domProps:{innerHTML:t._s(t.$props.label)}}):t._e(),t._t("default")],2)],1)}),Cr=[],Pr=(Rt=Object(S["a"])({props:{label:String}}),Rt(At=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]))||At),xr=Pr,$r=Object($["a"])(xr,wr,Cr,!1,null,null,null),Dr=$r.exports,Ur=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.$props.loading?t._e():t._t("default"),t.$props.loading?r("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e()],2)},Ir=[],Tr=(Lt=Object(S["a"])({name:"save-button",props:{loading:Boolean}}),Object(_["a"])(Wt=Lt(Wt=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]))||Wt)||Wt),Nr=Tr,Er=Object($["a"])(Nr,Ur,Ir,!1,null,null,null),Mr=Er.exports,Rr=r("1dce"),Ar=r("b5ae"),Lr=(zt=Object(S["a"])({components:{BaseDetail:Q,Activity:Mr,Field:Dr},mixins:[Rr["validationMixin"]],validations:{form:{title:{required:Ar["required"],minLength:Object(Ar["minLength"])(5)}}}}),Bt=Object(S["c"])("readOnlyUsers"),qt=Object(S["c"])("readWriteUsers"),Object(_["a"])(Vt=zt((Ht=function(t){function e(){var t,r;Object(O["a"])(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=Object(g["a"])(this,(t=Object(k["a"])(e)).call.apply(t,[this].concat(n))),r.form={title:"",readOnlyUsers:r.$store.currentCoachmark.readOnlyUsers.map(function(t){return t.id?t.id.toString():t.toString()}),readWriteUsers:r.$store.currentCoachmark.readWriteUsers.map(function(t){return t.id?t.id.toString():t.toString()})},r.availableReadonlyUsers=[],r.availableReadWriteUsers=[],r.sending=!1,r.loading=!1,r.success=!1,r.error=!1,r.stateLoading=jr.StateLoading,r.stateComplete=jr.StateComplete,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"onReadonlyUsersChange",value:function(t){var e=this;this.resetSaveStatus(),t.forEach(function(t){e.availableReadWriteUsers=e.availableReadWriteUsers.filter(function(e){return e.id!==t})}),this.$store.currentCoachmark.setReadOnlyUsers(t)}},{key:"onReadWriteUsersChange",value:function(t){var e=this;this.resetSaveStatus(),t.forEach(function(t){e.availableReadonlyUsers=e.availableReadonlyUsers.filter(function(e){return e.id!==t})}),this.$store.currentCoachmark.setReadWriteUsers(t)}},{key:"created",value:function(){var t=this;this.form.title=this.$store.currentCoachmark.title;var e=this.$store.content.users;this.availableReadonlyUsers=e.filter(function(e){return!t.form.readWriteUsers.includes(e.id)}),this.availableReadWriteUsers=e.filter(function(e){return!t.form.readOnlyUsers.includes(e.id)})}},{key:"validate",value:function(){console.log("validate"),this.$v.$touch(),this.$v.$invalid?console.error(this.$v):this.save()}},{key:"save",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.success=!1,this.error=!1,this.loading=!0,this.$store.currentCoachmark.setTitle(this.form.title),this.$store.currentCoachmark.setReadOnlyUsers(this.form.readOnlyUsers),this.$store.currentCoachmark.setReadWriteUsers(this.form.readWriteUsers),t.next=8,this.$store.currentCoachmark.save();case 8:e=t.sent,this.loading=!1,e.success&&e.id?(this.$store.ui.setCoachmarkId(e.id),this.success=!0):this.error=!0;case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"resetSaveStatus",value:function(){this.$store.currentCoachmark.setSaveStatus(jr.StateUninit)}},{key:"getValidationClass",value:function(t){var e=this.$v.form[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}}}]),e}(S["b"]),Ft=Ht,Object(H["a"])(Ft.prototype,"onReadonlyUsersChange",[Bt],Object.getOwnPropertyDescriptor(Ft.prototype,"onReadonlyUsersChange"),Ft.prototype),Object(H["a"])(Ft.prototype,"onReadWriteUsersChange",[qt],Object.getOwnPropertyDescriptor(Ft.prototype,"onReadWriteUsersChange"),Ft.prototype),Vt=Ft))||Vt)||Vt),Wr=Lr,zr=Object($["a"])(Wr,Sr,_r,!1,null,null,null),Br=zr.exports,qr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseDetail",{scopedSlots:t._u([{key:"toolbar",fn:function(){return[r("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[r("md-button",{staticClass:"md-icon-button",on:{click:t.$store.ui.editCoachmark}},[r("md-icon",[t._v("arrow_back")])],1),r("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v("Edit Steps")]),r("md-button",{staticClass:"md-primary md-icon-button",on:{click:t.$store.ui.newStep}},[r("md-icon",[t._v("add")])],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t.$store.content.getCoachmarkSteps(t.$store.ui.coachmarkId).length?r("md-list",t._l(t.$store.content.getCoachmarkSteps(t.$store.ui.coachmarkId),function(e){return r("md-list-item",{key:e.id,on:{click:function(){return t.$store.ui.editStep(e.id)}}},[t._v(t._s(e.label))])}),1):r("md-empty-state",{attrs:{"md-label":"No Steps"}})]},proxy:!0},{key:"actions",fn:function(){return[r("md-button",{staticClass:"md-raised",on:{click:t.$store.ui.newStep}},[t._v("Add a new step")])]},proxy:!0}])})},Vr=[],Fr=(Jt=Object(S["a"])({components:{BaseDetail:Q}}),Object(_["a"])(Yt=Jt(Yt=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),e}(S["b"]))||Yt)||Yt),Hr=Fr,Jr=Object($["a"])(Hr,qr,Vr,!1,null,null,null),Yr=Jr.exports,Gr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseDetail",{scopedSlots:t._u([{key:"toolbar",fn:function(){return[r("md-toolbar",{staticClass:"md-accent",attrs:{"md-elevation":"1"}},[r("md-button",{on:{click:t.$store.ui.editSteps}},[r("md-icon",[t._v("arrow_back")])],1),r("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v("Edit Step")]),r("md-button",{staticClass:"md-primary"},[r("md-icon",[t._v("cancel")])],1)],1)]},proxy:!0},{key:"content",fn:function(){return[r("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate(e)}}},[r("div",{staticClass:"md-layout md-gutter"},[r("Field",{class:t.getValidationClass("label"),attrs:{label:"Step Label"}},[r("md-input",{attrs:{disabled:t.loading},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}}),t.$v.form.label.required?t._e():r("span",{staticClass:"md-error"},[t._v("Label is required")]),t.$v.form.label.minLength?t._e():r("span",{staticClass:"md-error"},[t._v("Label min length is 5")])],1),r("Field",{class:t.getValidationClass("description"),attrs:{label:"Step Description (Optional)"}},[r("md-input",{attrs:{disabled:t.loading},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),r("Field",{attrs:{label:"Tooltip Position"}},[r("md-select",{on:{"md-selected":t.$store.currentStep.setTooltipPosition},model:{value:t.form.tooltipPosition,callback:function(e){t.$set(t.form,"tooltipPosition",e)},expression:"form.tooltipPosition"}},[r("md-option",{attrs:{value:"top"}},[t._v("Top")]),r("md-option",{attrs:{value:"right"}},[t._v("Right")]),r("md-option",{attrs:{value:"bottom"}},[t._v("Bottom")]),r("md-option",{attrs:{value:"left"}},[t._v("Left")])],1)],1),r("Field",{attrs:{label:"Node Selector"}},[r("md-input",{attrs:{disabled:""},model:{value:t.form.selectedNode,callback:function(e){t.$set(t.form,"selectedNode",e)},expression:"form.selectedNode"}}),r("md-button",{on:{click:function(){return t.componentSelectMode=!t.componentSelectMode}}},[t._v(t._s(t.componentSelectMode?"Cancel":"Select"))]),t.$v.form.selectedNode.required?t._e():r("span",{staticClass:"md-error"},[t._v("Node Selector is required")])],1),r("Field",{class:t.getValidationClass("order"),attrs:{label:"Step Order"}},[r("md-input",{attrs:{type:"number"},model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}}),t.$v.form.order.required?t._e():r("span",{staticClass:"md-error"},[t._v("Order is required")]),t.$v.form.order.minValue?t._e():r("span",{staticClass:"md-error"},[t._v("Order must be a positive integer")])],1),r("Field",[r("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit",disabled:t.loading}},[t._v("Save")])],1)],1)])]},proxy:!0},{key:"activity",fn:function(){return[r("Activity",{attrs:{loading:t.loading}})]},proxy:!0},{key:"actions",fn:function(){},proxy:!0},{key:"snackbar",fn:function(){return[r("md-snackbar",{attrs:{"md-active":t.success},on:{"update:mdActive":function(e){t.success=e},"update:md-active":function(e){t.success=e}}},[t._v("Step saved")]),r("md-snackbar",{attrs:{"md-active":t.error},on:{"update:mdActive":function(e){t.error=e},"update:md-active":function(e){t.error=e}}},[t._v("Error")])]},proxy:!0}])})},Xr=[],Kr=(r("8e7f"),function(t){var e=document.querySelector("#selector");e||(e=document.createElement("div"),e.id="selector",document.body.appendChild(e));var r=["top","bottom","left","right"],o={};if(r.forEach(function(t){o[t]=document.querySelector("#selector-".concat(t)),o[t]||(o[t]=document.createElement("div"),o[t].id="selector-".concat(t),e.appendChild(o[t]))}),-1===t.target.id.indexOf("selector")&&"BODY"!==t.target.tagName&&"HTML"!==t.target.tagName){var n=t.target,a=n.getBoundingClientRect(),i=a.height,s=a.width;o.top.style.left="".concat(a.left-4,"px"),o.top.style.top="".concat(a.top-4,"px"),o.top.style.width="".concat(s+5,"px"),o.bottom.style.top="".concat(a.top+i+1,"px"),o.bottom.style.left="".concat(a.left-3,"px"),o.bottom.style.width="".concat(s+4,"px"),o.left.style.left="".concat(a.left-5,"px"),o.left.style.top="".concat(a.top-4,"px"),o.left.style.height="".concat(i+8,"px"),o.right.style.left="".concat(a.left+s+1,"px"),o.right.style.top="".concat(a.top-4,"px"),o.right.style.height="".concat(i+8,"px")}else console.log("selector, body, or html")}),Qr=(Gt=Object(S["a"])({components:{BaseDetail:Q,Activity:Mr,Field:Dr},mixins:[Rr["validationMixin"]],validations:{form:{label:{required:Ar["required"],minLength:Object(Ar["minLength"])(5)},description:{},selectedNode:{required:Ar["required"]},order:{required:Ar["required"],minValue:Object(Ar["minValue"])(0)}}}}),Xt=Object(S["c"])("componentSelectMode"),Object(_["a"])(Kt=Gt((Zt=function(t){function e(){var t,r;Object(O["a"])(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=Object(g["a"])(this,(t=Object(k["a"])(e)).call.apply(t,[this].concat(n))),r.form={label:r.$store.currentStep.label,description:r.$store.currentStep.description,selectedNode:r.$store.currentStep.selectedNode,tooltipPosition:r.$store.currentStep.tooltipPosition},r.loading=!1,r.success=!1,r.error=!1,r.componentSelectMode=!1,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"onComponentSelectModeChange",value:function(t,e){var r=this;console.log("onComponentSelectModeChanged",t),setTimeout(function(){!0===t?(document.addEventListener("mousemove",Kr),document.addEventListener("click",r.setSelectedComponent)):(document.removeEventListener("mousemove",Kr),document.removeEventListener("click",r.setSelectedComponent))},100)}},{key:"setSelectedComponent",value:function(t){t.preventDefault(),console.log(t.target.getSelector()),this.form.nodeSelector=t.target.getSelector(),this.componentSelectMode=!1}},{key:"componentSelectListenerCallback",value:function(t){this.componentSelectMode=!1,this.nodeSelector=t.detail.selector}},{key:"save",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.success=!1,this.error=!1,this.loading=!0,this.$store.currentStep.setTooltipPosition(this.form.tooltipPosition),this.$store.currentStep.setLabel(this.form.label),this.$store.currentStep.setDescription(this.form.description),this.$store.currentStep.setSelectedNode(this.form.selectedNode),t.next=9,this.$store.currentStep.save(this.$store.ui.coachmarkId);case 9:e=t.sent,this.loading=!1,e.success&&e.id?(this.success=!0,setTimeout(function(){r.$store.ui.editSteps()},500)):this.error=!0;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"validate",value:function(){console.log("validate"),this.$v.$touch(),this.$v.$invalid?console.error(this.$v):this.save()}},{key:"getValidationClass",value:function(t){var e=this.$v.form[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}}}]),e}(S["b"]),Qt=Zt,Object(H["a"])(Qt.prototype,"onComponentSelectModeChange",[Xt],Object.getOwnPropertyDescriptor(Qt.prototype,"onComponentSelectModeChange"),Qt.prototype),Kt=Qt))||Kt)||Kt),Zr=Qr,to=(r("6e45"),Object($["a"])(Zr,Gr,Xr,!1,null,null,null)),eo=to.exports,ro=(r("7e6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"coachmark-overlay-background",style:t.$store.ui.stepBoxPosition}),r("div",{staticClass:"coachmark-overlay",style:t.$store.ui.stepBoxPosition},[r("div",{staticClass:"coachmark-overlay-box",style:t.$props.tooltipPosition},[r("div",{staticClass:"coachmark-overlay-step"},[r("span",{domProps:{innerHTML:t._s(t.$store.ui.currentStepIndex+1)}})]),r("div",{staticClass:"coachmark-overlay-actions"},[r("span",{domProps:{innerHTML:t._s(t.$props.label)}})])])])])}),oo=[],no=(te=Object(S["a"])({props:{label:String,position:String,tooltipPosition:String}}),Object(_["a"])(ee=te(ee=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"created",value:function(){document.body.classList.add("u-coachmarks")}},{key:"beforeDestroy",value:function(){document.body.classList.remove("u-coachmarks")}}]),e}(S["b"]))||ee)||ee),ao=no,io=(r("da72"),Object($["a"])(ao,ro,oo,!1,null,null,null)),so=io.exports,co=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$store.ui.showDebugCard?r("md-card",{staticClass:"DebugCard"},[r("md-card-content",[r("a",{on:{click:function(){return t.$store.ui.setShowDebugCard(!1)}}},[t._v("Close Debug")]),t._l(Object.keys(t.display),function(e){return r("div",{key:e},[r("p",{staticClass:"md-title"},[t._v(t._s(e))]),r("md-table",[r("md-table-row",[r("md-table-head",[t._v("key")]),r("md-table-head",[t._v("value")])],1),t._l(t.display[e],function(o){return r("md-table-row",{key:o},[r("md-table-cell",[t._v(t._s(o))]),r("md-table-cell",[r("pre",[t._v(t._s("object"==typeof t.$store[e][o]?JSON.stringify(t.$store[e][o],null,2):t.$store[e][o]))])])],1)})],2)],1)})],2)],1):r("div",{staticClass:"DebugCardToggle"},[r("a",{on:{click:function(){return t.$store.ui.setShowDebugCard(!0)}}},[t._v("Open Debug")])])},po=[],uo=(re=Object(S["a"])(),Object(_["a"])(oe=re((ne=function(t){function e(){var t,r;Object(O["a"])(this,e);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=Object(g["a"])(this,(t=Object(k["a"])(e)).call.apply(t,[this].concat(n))),r.display={ui:["coachmarkId","stepId","pageType","steps","previousStepIndex","currentStepIndex","nextStepIndex","stepActive","stepBoxPosition","tooltipPosition"],currentCoachmark:["id","readOnlyUsers","readWriteUsers"],currentStep:["id","label","description","tooltipPosition","selectedNode","url"],content:["currentUser","userCanCreateCoachmark","usersState","coachmarksState","step","coachmark","coachmarks","users"]},r}return Object(j["a"])(e,t),e}(S["b"]),oe=ne))||oe)||oe),lo=uo,bo=(r("accf"),Object($["a"])(lo,co,po,!1,null,"d5d856f2",null)),ho=bo.exports,yo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"PlayActions"},[r("div",[r("md-progress-bar",{attrs:{"md-mode":"determinate","md-value":t.$store.ui.stepProgress}})],1),r("div",{staticClass:"row"},[r("md-button",{staticClass:"md-icon-button",on:{click:t.$store.ui.exitPlayMode}},[r("md-icon",[t._v("cancel")])],1),r("md-button",{staticClass:"md-icon-button",attrs:{disabled:!1===t.$store.ui.previousStepIndex},on:{click:t.$store.ui.goToPreviousStep}},[r("md-icon",[t._v("keyboard_arrow_left")])],1),r("md-button",{staticClass:"md-icon-button",attrs:{disabled:!1===t.$store.ui.nextStepIndex},on:{click:t.$store.ui.goToNextStep}},[r("md-icon",[t._v("keyboard_arrow_right")])],1),r("span",{staticClass:"md-title"},[r("span",{domProps:{innerHTML:t._s(t.$store.ui.currentStepIndex+1)}}),r("span",[t._v("/")]),r("span",{domProps:{innerHTML:t._s(t.$store.ui.numberOfSteps)}})])],1)])},mo=[],fo=Object(_["a"])(ae=Object(S["a"])(ae=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"mounted",value:function(){this.$store.ui.updateStepBoxParams()}}]),e}(S["b"]))||ae)||ae,Oo=fo,vo=(r("9be8"),Object($["a"])(Oo,yo,mo,!1,null,"2cb9693d",null)),go=vo.exports,ko=(ie=Object(S["a"])({name:"coachmarks",props:{},components:{Toggle:U,MainMenu:q,CoachmarkDetail:ot,CoachmarkEdit:Br,StepsEdit:Yr,StepEdit:eo,StepBox:so,CoachmarkPlay:go,DebugCard:ho}}),Object(_["a"])(se=ie(se=function(t){function e(){return Object(O["a"])(this,e),Object(g["a"])(this,Object(k["a"])(e).apply(this,arguments))}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"created",value:function(){this.$store.restore()}},{key:"mounted",value:function(){this.$store.content.coachmarksState!==jr.StateComplete&&this.$store.content.fetchCoachmarks(),this.$store.content.usersState!==jr.StateComplete&&this.$store.content.fetchUsers()}}]),e}(S["b"]))||se)||se),jo=ko,So=(r("6a0b"),Object($["a"])(jo,m,f,!1,null,"7d8229c4",null)),_o=So.exports,wo=(r("51de"),r("e094"),ce=Z["b"].bound,pe=Z["b"].bound,ue=Z["b"].bound,le=Z["b"].bound,de=Z["b"].bound,be=Z["b"].bound,he=Z["b"].bound,ye=Z["b"].bound,me=Z["b"].bound,fe=Z["b"].bound,Oe=Z["b"].bound,ve=Z["b"].bound,ge=Z["b"].bound,ke=Z["b"].bound,je=Z["b"].bound,Se=Z["b"].bound,_e=Z["b"].bound,we=Z["b"].bound,Ce=Z["b"].bound,Pe=Z["b"].bound,xe=Z["b"].bound,$e=Z["b"].bound,Be=ze=function(t){function e(t){var r;return Object(O["a"])(this,e),r=Object(g["a"])(this,Object(k["a"])(e).call(this)),r.rootStore=void 0,Object(at["a"])(r,"_open",Ue,Object(it["a"])(r)),Object(at["a"])(r,"_stepActive",Ie,Object(it["a"])(r)),Object(at["a"])(r,"_pageType",Te,Object(it["a"])(r)),Object(at["a"])(r,"_coachmarkId",Ne,Object(it["a"])(r)),Object(at["a"])(r,"_stepId",Ee,Object(it["a"])(r)),Object(at["a"])(r,"_rect",Me,Object(it["a"])(r)),Object(at["a"])(r,"_stepBoxPosition",Re,Object(it["a"])(r)),Object(at["a"])(r,"_tooltipPosition",Ae,Object(it["a"])(r)),Object(at["a"])(r,"_steps",Le,Object(it["a"])(r)),Object(at["a"])(r,"_showDebugcard",We,Object(it["a"])(r)),r.rootStore=t,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"cookieName",value:function(){return"cm-ui"}},{key:"toggleOpen",value:function(){this.setOpen(!this.open)}},{key:"reset",value:function(){this._open=!1,this._pageType=e.PTMainMenu,this._coachmarkId=0}},{key:"setStepActive",value:function(t){this._stepActive=t,this.writeState()}},{key:"setOpen",value:function(t){console.log("setOpen",t),this._open=t,this._pageType||this.setPageType(e.PTMainMenu),this.writeState()}},{key:"setPageType",value:function(t){this._pageType=t,this.writeState()}},{key:"setCoachmarkId",value:function(t){this._coachmarkId=t,this.writeState()}},{key:"setStepId",value:function(t){this._stepId=t,this.writeState()}},{key:"setStepBoxPosition",value:function(t){this._rect=t,this._stepBoxPosition="top: ".concat(t.top,"px; left: ").concat(t.left,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px")}},{key:"setTooltipPosition",value:function(t){switch(console.log("orientation",t),t){case"bottom":this._tooltipPosition="top: 100%; left: 0px;";break;case"top":this._tooltipPosition="top: 0px; left: 0px; transform: translateY(-100%); margin-top: 0px; margin-bottom: 10px;";break;case"left":this._tooltipPosition="top: ".concat(this._rect.top,"px; left: ").concat(this._rect.left,"px;");break;case"right":this._tooltipPosition="top: 0px; left: 100%; margin-top: 0px; margin-left: 10px;";break}}},{key:"setSteps",value:function(t){this._steps=t,this.writeState()}},{key:"exitPlayMode",value:function(){this.setPageType(e.PTMainMenu),this.setStepActive(!1)}},{key:"goToNextStep",value:function(){var t=this.nextStepIndex,e=this._steps[t]||!1;return e?(this.setStepId(e),this.checkPageUri(),this.updateStepBoxParams()):console.warn("next step is false"),e}},{key:"goToPreviousStep",value:function(){var t=this.previousStepIndex,e=this._steps[t]||!1;return e?(this.setStepId(e),this.checkPageUri(),this.updateStepBoxParams()):console.warn("previous step is false"),e}},{key:"updateStepBoxParams",value:function(){this.checkPageUri(),console.log("after checkPageUri");var t=this.rootStore.content.getStep(this.stepId).selectedNode;console.log(t);var e=document.querySelector(t);if(e){var r=e.getBoundingClientRect();this.setStepBoxPosition(r),console.log(e),this.setStepActive(!0),this.stepActive?document.body.classList.add("u-coachmarks"):document.body.classList.remove("u-coachmarks"),this.setTooltipPosition(this.rootStore.step.tooltipPosition)}else console.error("step target element does not exist")}},{key:"startCoachmark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!t||t instanceof Event)&&(t=this.coachmarkId),this.setCoachmarkId(t),this.setPageType(e.PTCoachmarkPlay);var r=this.rootStore.content.getCoachmarkSteps(t);if(r){var o=r.map(function(t){return t.id});this.setSteps(o),this.setStepId(o[0]),this.setStepActive(!0),this.checkPageUri()}else console.warn("steps is undefined")}},{key:"setShowDebugCard",value:function(t){this._showDebugcard=t}},{key:"goToMainMenu",value:function(){this.setPageType(e.PTMainMenu),this.setCoachmarkId(null),this.setStepId(null)}},{key:"goToCoachmark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!t||t instanceof Event)&&(t=this.coachmarkId),this.setCoachmarkId(t),this.setPageType(e.PTCoachmarkDetail)}},{key:"editCoachmark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!t||t instanceof Event)&&(t=this.coachmarkId),this.setCoachmarkId(t),this.setPageType(e.PTCoachmarkEdit);var r=this.rootStore.content.coachmarks.find(function(e){return e.id===t});r?this.rootStore.currentCoachmark.setCurrentCoachmark({id:t,title:r.title,readOnlyUsers:r.readOnlyUsers,readWriteUsers:r.readWriteUsers}):console.error("Could not find coachmark with ID: ",t)}},{key:"createNewCoachmark",value:function(){this.setCoachmarkId(jr.NewCoachmarkId),this.setStepId(null),this.setPageType(e.PTCoachmarkEdit),this.rootStore.currentCoachmark.setCurrentCoachmark({id:jr.NewCoachmarkId,name:"",readonlyUsers:[],readWriteUsers:[]})}},{key:"editSteps",value:function(){this.setPageType(e.PTStepsEdit)}},{key:"editStep",value:function(t){this.setStepId(t);var r=this.rootStore.content.getStep(t);this.rootStore.currentStep.configure(r),this.setPageType(e.PTStepEdit)}},{key:"newStep",value:function(){this.setPageType(e.PTStepEdit),this.rootStore.currentStep.configure({id:jr.NewCoachmarkId,coachmarkId:this.coachmarkId,label:"",nodeSelector:"",tooltipPosition:"bottom",order:1})}},{key:"checkPageUri",value:function(){var t=window.location.pathname,e=this.rootStore.content.step.url;t!==e?(console.log("mismatch",t,e),window.location=e):console.log("correct url")}},{key:"stepActive",get:function(){return this._stepActive}},{key:"open",get:function(){return this._open}},{key:"pageType",get:function(){return this._pageType}},{key:"coachmarkId",get:function(){return this._coachmarkId}},{key:"stepId",get:function(){return this._stepId}},{key:"stepBoxPosition",get:function(){return this._stepBoxPosition}},{key:"tooltipPosition",get:function(){return this._tooltipPosition}},{key:"steps",get:function(){return this._steps}},{key:"currentStepIndex",get:function(){var t=this._steps.indexOf(this.stepId);return t>-1&&t}},{key:"numberOfSteps",get:function(){return this._steps.length}},{key:"stepProgress",get:function(){return this.numberOfSteps?100*(this.currentStepIndex+1)/this.numberOfSteps:0}},{key:"previousStepIndex",get:function(){var t=this._steps.indexOf(this.stepId),e=t>0&&t-1;return e}},{key:"nextStepIndex",get:function(){var t=this._steps.indexOf(this.stepId),e=t<this._steps.length-1&&t+1;return e}},{key:"showDebugCard",get:function(){return this._showDebugcard}}]),e}(kr),ze.CookieName="cm-ui",ze.PTCoachmarkDetail="CoachmarkDetail",ze.PTMainMenu="MainMenu",ze.PTCoachmarkEdit="CoachmarkEdit",ze.PTStepsEdit="StepsEdit",ze.PTStepEdit="StepEdit",ze.PTCoachmarkPlay="CoachmarkPlay",De=Be,Ue=Object(H["a"])(De.prototype,"_open",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=Object(H["a"])(De.prototype,"_stepActive",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=Object(H["a"])(De.prototype,"_pageType",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wo.PTMainMenu}}),Ne=Object(H["a"])(De.prototype,"_coachmarkId",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ee=Object(H["a"])(De.prototype,"_stepId",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Me=Object(H["a"])(De.prototype,"_rect",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Re=Object(H["a"])(De.prototype,"_stepBoxPosition",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ae=Object(H["a"])(De.prototype,"_tooltipPosition",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Le=Object(H["a"])(De.prototype,"_steps",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=Object(H["a"])(De.prototype,"_showDebugcard",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(H["a"])(De.prototype,"toggleOpen",[ce],Object.getOwnPropertyDescriptor(De.prototype,"toggleOpen"),De.prototype),Object(H["a"])(De.prototype,"reset",[pe],Object.getOwnPropertyDescriptor(De.prototype,"reset"),De.prototype),Object(H["a"])(De.prototype,"stepActive",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"stepActive"),De.prototype),Object(H["a"])(De.prototype,"setStepActive",[ue],Object.getOwnPropertyDescriptor(De.prototype,"setStepActive"),De.prototype),Object(H["a"])(De.prototype,"setOpen",[Z["b"]],Object.getOwnPropertyDescriptor(De.prototype,"setOpen"),De.prototype),Object(H["a"])(De.prototype,"open",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"open"),De.prototype),Object(H["a"])(De.prototype,"setPageType",[le],Object.getOwnPropertyDescriptor(De.prototype,"setPageType"),De.prototype),Object(H["a"])(De.prototype,"pageType",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"pageType"),De.prototype),Object(H["a"])(De.prototype,"setCoachmarkId",[de],Object.getOwnPropertyDescriptor(De.prototype,"setCoachmarkId"),De.prototype),Object(H["a"])(De.prototype,"coachmarkId",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"coachmarkId"),De.prototype),Object(H["a"])(De.prototype,"setStepId",[be],Object.getOwnPropertyDescriptor(De.prototype,"setStepId"),De.prototype),Object(H["a"])(De.prototype,"stepId",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"stepId"),De.prototype),Object(H["a"])(De.prototype,"stepBoxPosition",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"stepBoxPosition"),De.prototype),Object(H["a"])(De.prototype,"setStepBoxPosition",[he],Object.getOwnPropertyDescriptor(De.prototype,"setStepBoxPosition"),De.prototype),Object(H["a"])(De.prototype,"tooltipPosition",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"tooltipPosition"),De.prototype),Object(H["a"])(De.prototype,"setTooltipPosition",[ye],Object.getOwnPropertyDescriptor(De.prototype,"setTooltipPosition"),De.prototype),Object(H["a"])(De.prototype,"setSteps",[me],Object.getOwnPropertyDescriptor(De.prototype,"setSteps"),De.prototype),Object(H["a"])(De.prototype,"steps",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"steps"),De.prototype),Object(H["a"])(De.prototype,"currentStepIndex",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"currentStepIndex"),De.prototype),Object(H["a"])(De.prototype,"numberOfSteps",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"numberOfSteps"),De.prototype),Object(H["a"])(De.prototype,"stepProgress",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"stepProgress"),De.prototype),Object(H["a"])(De.prototype,"previousStepIndex",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"previousStepIndex"),De.prototype),Object(H["a"])(De.prototype,"nextStepIndex",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"nextStepIndex"),De.prototype),Object(H["a"])(De.prototype,"exitPlayMode",[fe],Object.getOwnPropertyDescriptor(De.prototype,"exitPlayMode"),De.prototype),Object(H["a"])(De.prototype,"goToNextStep",[Oe],Object.getOwnPropertyDescriptor(De.prototype,"goToNextStep"),De.prototype),Object(H["a"])(De.prototype,"goToPreviousStep",[ve],Object.getOwnPropertyDescriptor(De.prototype,"goToPreviousStep"),De.prototype),Object(H["a"])(De.prototype,"updateStepBoxParams",[ge],Object.getOwnPropertyDescriptor(De.prototype,"updateStepBoxParams"),De.prototype),Object(H["a"])(De.prototype,"startCoachmark",[ke],Object.getOwnPropertyDescriptor(De.prototype,"startCoachmark"),De.prototype),Object(H["a"])(De.prototype,"showDebugCard",[Z["c"]],Object.getOwnPropertyDescriptor(De.prototype,"showDebugCard"),De.prototype),Object(H["a"])(De.prototype,"setShowDebugCard",[je],Object.getOwnPropertyDescriptor(De.prototype,"setShowDebugCard"),De.prototype),Object(H["a"])(De.prototype,"goToMainMenu",[Se],Object.getOwnPropertyDescriptor(De.prototype,"goToMainMenu"),De.prototype),Object(H["a"])(De.prototype,"goToCoachmark",[_e],Object.getOwnPropertyDescriptor(De.prototype,"goToCoachmark"),De.prototype),Object(H["a"])(De.prototype,"editCoachmark",[we],Object.getOwnPropertyDescriptor(De.prototype,"editCoachmark"),De.prototype),Object(H["a"])(De.prototype,"createNewCoachmark",[Ce],Object.getOwnPropertyDescriptor(De.prototype,"createNewCoachmark"),De.prototype),Object(H["a"])(De.prototype,"editSteps",[Pe],Object.getOwnPropertyDescriptor(De.prototype,"editSteps"),De.prototype),Object(H["a"])(De.prototype,"editStep",[xe],Object.getOwnPropertyDescriptor(De.prototype,"editStep"),De.prototype),Object(H["a"])(De.prototype,"newStep",[$e],Object.getOwnPropertyDescriptor(De.prototype,"newStep"),De.prototype),De),Co=(qe=Z["b"].bound,Ve=Z["b"].bound,Fe=Z["b"].bound,He=Z["b"].bound,Je=Z["b"].bound,Ye=Z["b"].bound,Ge=Z["b"].bound,Xe=Z["b"].bound,or=function(t){function e(t){var r;return Object(O["a"])(this,e),r=Object(g["a"])(this,Object(k["a"])(e).call(this)),r.rootStore=void 0,Object(at["a"])(r,"_id",Qe,Object(it["a"])(r)),Object(at["a"])(r,"_title",Ze,Object(it["a"])(r)),Object(at["a"])(r,"_readOnlyUsers",tr,Object(it["a"])(r)),Object(at["a"])(r,"_readWriteUsers",er,Object(it["a"])(r)),Object(at["a"])(r,"_saveStatus",rr,Object(it["a"])(r)),r.rootStore=t,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"setSaveStatus",value:function(t){console.log("setSaveStatus: ",t),this._saveStatus=t}},{key:"reset",value:function(){this._id=0,this._title="",this._readOnlyUsers=[],this._readWriteUsers=[],this._saveStatus=jr.StateUninit}},{key:"setId",value:function(t){this._id=t,this.writeState()}},{key:"setTitle",value:function(t){this._title=t,this.writeState()}},{key:"setReadOnlyUsers",value:function(t){this._readOnlyUsers=t.map(function(t){return parseInt(t)}).filter(function(t){return t}),this.writeState()}},{key:"setReadWriteUsers",value:function(t){this._readWriteUsers=t.map(function(t){return parseInt(t)}).filter(function(t){return t}),this.writeState()}},{key:"setCurrentCoachmark",value:function(t){console.error("currentCoachmarkStore::set"),this._title=t.title,this._id=t.id,this._readOnlyUsers=t.readOnlyUsers,this._readWriteUsers=t.readWriteUsers,this.writeState()}},{key:"save",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.setSaveStatus(jr.StateLoading),console.log("start current coachmark save"),t.next=4,bt({id:Object(Z["g"])(this.id),title:Object(Z["g"])(this.title),readOnlyUsers:Object(Z["g"])(this.readOnlyUsers),readWriteUsers:Object(Z["g"])(this.readWriteUsers)});case 4:return e=t.sent,e.success&&e.id?(this.setSaveStatus(jr.StateComplete),this.setId(e.id),this.rootStore.content.fetchCoachmarks(!0)):this.setSaveStatus(jr.StateError),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"cookieName",value:function(){return"cm-current-coachmark"}},{key:"saveStatus",get:function(){return this._saveStatus}},{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"readOnlyUsers",get:function(){return this._readOnlyUsers||[]}},{key:"readWriteUsers",get:function(){return this._readWriteUsers||[]}},{key:"currentCoachmark",get:function(){return this._currentCoachmark}}]),e}(kr),Ke=or,Qe=Object(H["a"])(Ke.prototype,"_id",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ze=Object(H["a"])(Ke.prototype,"_title",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tr=Object(H["a"])(Ke.prototype,"_readOnlyUsers",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),er=Object(H["a"])(Ke.prototype,"_readWriteUsers",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rr=Object(H["a"])(Ke.prototype,"_saveStatus",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jr.StateUninit}}),Object(H["a"])(Ke.prototype,"saveStatus",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"saveStatus"),Ke.prototype),Object(H["a"])(Ke.prototype,"setSaveStatus",[qe],Object.getOwnPropertyDescriptor(Ke.prototype,"setSaveStatus"),Ke.prototype),Object(H["a"])(Ke.prototype,"reset",[Ve],Object.getOwnPropertyDescriptor(Ke.prototype,"reset"),Ke.prototype),Object(H["a"])(Ke.prototype,"setId",[Fe],Object.getOwnPropertyDescriptor(Ke.prototype,"setId"),Ke.prototype),Object(H["a"])(Ke.prototype,"id",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"id"),Ke.prototype),Object(H["a"])(Ke.prototype,"setTitle",[He],Object.getOwnPropertyDescriptor(Ke.prototype,"setTitle"),Ke.prototype),Object(H["a"])(Ke.prototype,"title",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"title"),Ke.prototype),Object(H["a"])(Ke.prototype,"setReadOnlyUsers",[Je],Object.getOwnPropertyDescriptor(Ke.prototype,"setReadOnlyUsers"),Ke.prototype),Object(H["a"])(Ke.prototype,"readOnlyUsers",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"readOnlyUsers"),Ke.prototype),Object(H["a"])(Ke.prototype,"setReadWriteUsers",[Ye],Object.getOwnPropertyDescriptor(Ke.prototype,"setReadWriteUsers"),Ke.prototype),Object(H["a"])(Ke.prototype,"readWriteUsers",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"readWriteUsers"),Ke.prototype),Object(H["a"])(Ke.prototype,"setCurrentCoachmark",[Ge],Object.getOwnPropertyDescriptor(Ke.prototype,"setCurrentCoachmark"),Ke.prototype),Object(H["a"])(Ke.prototype,"currentCoachmark",[Z["c"]],Object.getOwnPropertyDescriptor(Ke.prototype,"currentCoachmark"),Ke.prototype),Object(H["a"])(Ke.prototype,"save",[Xe],Object.getOwnPropertyDescriptor(Ke.prototype,"save"),Ke.prototype),Ke);function Po(t){return xo.apply(this,arguments)}function xo(){return xo=Object(nt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",ut.post(window.Craft.getActionUrl("coachmarks/steps/new"),{step:e}).then(function(t){return t.data}).catch(function(t){return console.error(t)}));case 2:case"end":return t.stop()}},t)})),xo.apply(this,arguments)}var $o,Do,Uo,Io,To,No,Eo,Mo=(nr=Z["b"].bound,ar=Z["b"].bound,ir=Z["b"].bound,sr=Z["b"].bound,cr=Z["b"].bound,pr=Z["b"].bound,ur=Z["b"].bound,lr=Z["b"].bound,gr=function(t){function e(t){var r;return Object(O["a"])(this,e),r=Object(g["a"])(this,Object(k["a"])(e).call(this)),r.rootStore=void 0,Object(at["a"])(r,"_id",br,Object(it["a"])(r)),Object(at["a"])(r,"_selectedNode",hr,Object(it["a"])(r)),Object(at["a"])(r,"_label",yr,Object(it["a"])(r)),Object(at["a"])(r,"_description",mr,Object(it["a"])(r)),Object(at["a"])(r,"_url",fr,Object(it["a"])(r)),Object(at["a"])(r,"_tooltipPosition",Or,Object(it["a"])(r)),Object(at["a"])(r,"_saveStatus",vr,Object(it["a"])(r)),r.rootStore=t,r}return Object(j["a"])(e,t),Object(v["a"])(e,[{key:"reset",value:function(){this._id=0,this._selectedNode="",this._label="",this._tooltipPosition="right"}},{key:"cookieName",value:function(){return"cm-current-step"}},{key:"setId",value:function(t){this._id=t}},{key:"setSelectedNode",value:function(t){this._selectedNode=t,this.writeState()}},{key:"setLabel",value:function(t){this._label=t,this.writeState()}},{key:"setDescription",value:function(t){this._description=t}},{key:"setTooltipPosition",value:function(t){this._tooltipPosition=t,this.writeState()}},{key:"configure",value:function(t){this._label=t.label,this._description=t.description,this._url=t.url,this._selectedNode=t.selectedNode,this._tooltipPosition=t.tooltipPosition,this.writeState()}},{key:"save",value:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Po({coachmarkId:e,id:Object(Z["g"])(this.id),selectedNode:Object(Z["g"])(this.selectedNode),label:Object(Z["g"])(this.label),description:Object(Z["g"])(this.description),tooltipPosition:Object(Z["g"])(this.tooltipPosition)});case 2:return r=t.sent,r.success&&r.id?(this._saveStatus=jr.StateComplete,this.setId(r.id),this.rootStore.content.fetchCoachmarks(!0)):this._saveStatus=jr.StateError,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"id",get:function(){return this._id}},{key:"selectedNode",get:function(){return this._selectedNode}},{key:"label",get:function(){return this._label}},{key:"description",get:function(){return this._description}},{key:"tooltipPosition",get:function(){return this._tooltipPosition}}]),e}(kr),dr=gr,br=Object(H["a"])(dr.prototype,"_id",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hr=Object(H["a"])(dr.prototype,"_selectedNode",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yr=Object(H["a"])(dr.prototype,"_label",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mr=Object(H["a"])(dr.prototype,"_description",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fr=Object(H["a"])(dr.prototype,"_url",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Or=Object(H["a"])(dr.prototype,"_tooltipPosition",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"right"}}),vr=Object(H["a"])(dr.prototype,"_saveStatus",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(H["a"])(dr.prototype,"reset",[nr],Object.getOwnPropertyDescriptor(dr.prototype,"reset"),dr.prototype),Object(H["a"])(dr.prototype,"setId",[ar],Object.getOwnPropertyDescriptor(dr.prototype,"setId"),dr.prototype),Object(H["a"])(dr.prototype,"id",[Z["c"]],Object.getOwnPropertyDescriptor(dr.prototype,"id"),dr.prototype),Object(H["a"])(dr.prototype,"setSelectedNode",[ir],Object.getOwnPropertyDescriptor(dr.prototype,"setSelectedNode"),dr.prototype),Object(H["a"])(dr.prototype,"selectedNode",[Z["c"]],Object.getOwnPropertyDescriptor(dr.prototype,"selectedNode"),dr.prototype),Object(H["a"])(dr.prototype,"setLabel",[sr],Object.getOwnPropertyDescriptor(dr.prototype,"setLabel"),dr.prototype),Object(H["a"])(dr.prototype,"label",[Z["c"]],Object.getOwnPropertyDescriptor(dr.prototype,"label"),dr.prototype),Object(H["a"])(dr.prototype,"setDescription",[cr],Object.getOwnPropertyDescriptor(dr.prototype,"setDescription"),dr.prototype),Object(H["a"])(dr.prototype,"description",[Z["c"]],Object.getOwnPropertyDescriptor(dr.prototype,"description"),dr.prototype),Object(H["a"])(dr.prototype,"setTooltipPosition",[pr],Object.getOwnPropertyDescriptor(dr.prototype,"setTooltipPosition"),dr.prototype),Object(H["a"])(dr.prototype,"tooltipPosition",[Z["c"]],Object.getOwnPropertyDescriptor(dr.prototype,"tooltipPosition"),dr.prototype),Object(H["a"])(dr.prototype,"configure",[ur],Object.getOwnPropertyDescriptor(dr.prototype,"configure"),dr.prototype),Object(H["a"])(dr.prototype,"save",[lr],Object.getOwnPropertyDescriptor(dr.prototype,"save"),dr.prototype),dr),Ro=($o=Z["b"].bound,Eo=function(){function t(){Object(O["a"])(this,t),Object(at["a"])(this,"ui",Uo,this),Object(at["a"])(this,"content",Io,this),Object(at["a"])(this,"currentCoachmark",To,this),Object(at["a"])(this,"currentStep",No,this)}return Object(v["a"])(t,[{key:"restore",value:function(){this.ui.restore(),this.content.restore(),this.currentCoachmark.restore(),this.currentStep.restore()}},{key:"toggleStepActive",value:function(){var t=this.step.selectorNode,e=document.querySelector(t),r=e.getBoundingClientRect();this.ui.setStepBoxPosition(r),console.log(e),this.ui._stepActive=!this.ui._stepActive,this.ui.stepActive?document.body.classList.add("u-coachmarks"):document.body.classList.remove("u-coachmarks"),this.ui.setTooltipPosition(this.step.tooltipPosition)}},{key:"coachmark",get:function(){var t=this;return this.content.coachmarks.find(function(e){return e.id===t.ui.coachmarkId})}},{key:"step",get:function(){var t;if(this.ui.stepId)t=this.ui.stepId;else{var e=this.coachmark,r=e.steps[0];r&&(t=r.id)}return this.content.steps.find(function(e){return e.id===t})}},{key:"isNewCoachmark",get:function(){return this.ui.coachmarkId===jr.NewCoachmarkId}},{key:"coachmarkEditable",get:function(){return!0}}]),t}(),Do=Eo,Uo=Object(H["a"])(Do.prototype,"ui",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new wo(this)}}),Io=Object(H["a"])(Do.prototype,"content",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new jr(this)}}),To=Object(H["a"])(Do.prototype,"currentCoachmark",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Co(this)}}),No=Object(H["a"])(Do.prototype,"currentStep",[Z["e"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Mo(this)}}),Object(H["a"])(Do.prototype,"coachmark",[Z["c"]],Object.getOwnPropertyDescriptor(Do.prototype,"coachmark"),Do.prototype),Object(H["a"])(Do.prototype,"step",[Z["c"]],Object.getOwnPropertyDescriptor(Do.prototype,"step"),Do.prototype),Object(H["a"])(Do.prototype,"isNewCoachmark",[Z["c"]],Object.getOwnPropertyDescriptor(Do.prototype,"isNewCoachmark"),Do.prototype),Object(H["a"])(Do.prototype,"coachmarkEditable",[Z["c"]],Object.getOwnPropertyDescriptor(Do.prototype,"coachmarkEditable"),Do.prototype),Object(H["a"])(Do.prototype,"toggleStepActive",[$o],Object.getOwnPropertyDescriptor(Do.prototype,"toggleStepActive"),Do.prototype),Do),Ao=document.querySelector("#global-container"),Lo=document.createElement("div");Ao.appendChild(Lo),"undefined"!==typeof window&&window.Vue&&(window.Vue.prototype.$store=new Ro,window.Vue.use(y.a),Lo&&new window.Vue({render:function(t){return t(_o)}}).$mount(Lo),document.querySelector("html").classList.remove("md-theme-default"))},"692f":function(t,e,r){"use strict";var o=r("297e"),n=r.n(o);n.a},"6a0b":function(t,e,r){"use strict";var o=r("4c2f"),n=r.n(o);n.a},"6e45":function(t,e,r){"use strict";var o=r("f89a"),n=r.n(o);n.a},"7e6a":function(t,e,r){},"8bbf":function(t,e){t.exports=Vue},9328:function(t,e,r){"use strict";var o=r("1807"),n=r.n(o);n.a},"9be8":function(t,e,r){"use strict";var o=r("557b"),n=r.n(o);n.a},accf:function(t,e,r){"use strict";var o=r("18b8"),n=r.n(o);n.a},b16b:function(t,e,r){},cb25:function(t,e,r){"use strict";var o=r("b16b"),n=r.n(o);n.a},da67:function(t,e,r){"use strict";var o=r("53e4"),n=r.n(o);n.a},da72:function(t,e,r){"use strict";var o=r("4af6"),n=r.n(o);n.a},f89a:function(t,e,r){}});
//# sourceMappingURL=app.js.map